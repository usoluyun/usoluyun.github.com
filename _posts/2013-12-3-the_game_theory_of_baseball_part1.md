---
layout: post
title: 棒球的博弈论 part 1 
---

#棒球的博弈论 part 1  

>  ***前言***  
>  两个原因促使我来翻译这篇文章，一个是上次和张岩叔叔吃饭的时候我和他说了我想做个比赛积分和球员技术统计数据库的事情，张岩说之前的数据一直保留着，但是不知道要拿这些数据来干什么。觉得现在杯赛赛制下，这些数据没有什么太多的价值。另一个原因就是觉得现在的大学生打球训练一直缺乏理论知识的教育，并没有意识到棒垒球不只是投球，打击，守备这些事情。所以想结合之前一直感兴趣的博弈论来谈谈如何从另一个层面来解读棒球。E文好的同学可以直接读后面的原文链接。我的版本里加入了一些名词解释和我自己的看法。没有完全按原文翻译，还请见谅。文章很长，时间有限，我会分几次翻完，敬请期待  

[origin](http://faculty.haas.berkeley.edu/rjmorgan/mba211/2010%20Final%20Projects/RPS%20Game%20Theory%20Final%20-%20Baseball.pdf)


###为什么是棒球？  

棒球是运用博弈论透视法分析的最佳运动，因为它场上和比赛和比赛之间的复杂度，战术和战略的多样性。在每一局，每一场和每个赛季里的每个局面，都会出现许多队员，裁判，教练，管理者交织在一起的复杂局面，和数以百计的复杂的决策。大联盟的分析也已经十分成熟，比赛的每一个方面的统计数据都被记录的下来。下面我们讨论的是10年4月18日国联的一场比赛的第八局，对阵双方是旧金山巨人队和洛杉矶道奇队。这是一个典型的具有代表性大联盟式的半局比赛。


###2010年4月18日八局下  

前六局都没有人得分，甚至没有一个队可以通过二垒。在第七局，Juan Uribe敲出了左外野休息室的深远全垒打，拿下了巨人队本场比赛的唯一一分。八局上巨人队没有得分，球队带着1-0领先优势来到了下半局。这半局，主要的球员有：

**巨人队**  
NO.75  **Barry Zito**  先发投手 - 职业生涯记录： 137胜106负，3.80自责分率，被上垒率是1.29  
NO. 54 **Sergo Romo** 救援投手 - 职业生涯记录： 8胜5负， 2.82自责分率， 被上垒率.92  

**道奇队**
NO.9 **Garret Anderson** 外野手 - 职业生涯记录： 打击率.294，上垒率.325， 长打率.463
NO.99 **Manny Ramirez** 外野手 - 职业生涯记录： 打击率.314，上垒率.412，长打率.591  

###游戏树  

![第八局的游戏树](http://media-cache-ak0.pinimg.com/originals/92/d0/ed/92d0ed7ae92683e9be7c9684ffc1530a.jpg)

从游戏树来看，我们看到现在巨人队的局面是八局下半，一人出局，Garret Anderson站上打击区。我们来分析现在这一点上巨人队和道奇队的选项所导致的每一个进展，以及预期巨人队的优化策略。  

每一个打击都会影响到每队胜出几率。胜出几率是分析历史记录里的每一个打击而得出的结论，然后决定一个队每个可能的局面造成球队获胜的效果。

> #####什么是胜出几率  (WE - Win Expectancy)
> [来自台湾棒球维基馆](http://twbsball.dils.tku.edu.tw/wiki/index.php/Win_Expectancy)  
> WE 將一場比賽分成 18 個半局，再將一個半局分成可能出現的 24 個上壘與出局狀態，再加上主隊領先或落後的分數，通常分為-10分到+10分等21個狀態。之後用 Markov Chain （馬可夫鍊） 導出各個狀態下主場球隊勝出的機率。常見的 WE 表格假設沒有主場優勢。所以每局上半，無人出局無人在壘的情況下，WE 都是 0.500。  

而胜出机率差是构建在胜出几率之上的，用于计算每一个特定的局面而不是特定的球员的。  

> #####什么是胜出几率差
> [来自台湾棒球维基馆](http://twbsball.dils.tku.edu.tw/wiki/index.php/Win_Probability_Added)  
> 最基本的WPA是以Win Expectancy（勝出機率）為出發點。一名打者打擊前的勝出機率和他打擊後的差別即是打者該打席的WPA。
比如在每場得4.5分的環境裡，八局上半客隊落後五分，一出局，一二壘有人的情況下，客隊的勝出機率是3%。如果該名打者擊出全壘打，讓球隊追成落後二分，一人出局，壘上無人的情況，則客隊勝出機率進步到10%。這名打者該打席的WPA為7，而被打全壘打的投手該打席的WPA為-7。

**游戏树的目的是用来呈现胜出几率差。**  

无论如何，从巨人队看来，道奇队最希望的是在Anderson之后把Manny Ramirez放上打击区。因此，巨人队认为无论谁来对付Anderson都不会对球队的决定带来影响（一出局情况下，Manny作为代打替换投手是肯定上的了场的）。但是Manny
Ramirez在垒上有人的情况对于道奇队的胜出几率差影响是很大的，并且Anderson相对于Romo来说对阵Zito上垒率更高。由此推理，巨人队应该换上Romo来对付Anderson，总的来说，换上Romo替换掉Zito来对付Anderson，提高了巨人队胜出机率1.65%（-.53%减去-.2.18%）。这个回报是对称的，也就是说，如果Anderson对阵Zito而不是Romo，道奇队的获胜几率也会提高1.65%。  

值得注意的是，虽然看起来让Manny站上打击区是一个优势策略，但它并不总是一个选项。在某一个孤立的时机，它可能是一个最好的情况，但是我们没有建模去证明这个选项只能在整个比赛过程中被使用一次。让Manny代打这件事情在不同的比赛情况之下会有不同的价值。比如让Manny比赛僵局的时候打击会比现在的情况要来的不值得（获得较低的WPA）。但是，如果比赛进入加时，当有队员在得点圈的时候，让Manny去代打的话那他的表现有可能会导致一个较高的WPA，因此，如果Manny
具有最高的WPA，那就需要仔细考虑使用Manny作为代打者的机会成本了。当前情况下，道奇队看起来已经做出了正确的决定，就是在第八局，垒上有人的情况下落后一分，Manny换下了投手（一个明显的弱棒），成为下一个打者。  

现在给出的事实就是道奇已经换上了Manny作为代打，巨人队可能的最优结果就是让Romo在无人上垒的情况下去对付Manny。为了最大化这种可能性，巨人队应该立刻换上Romo去对付Anderson。但是，巨人选择了让Zito留在场上。这个决定可能是因为过于自信的倾向， 一个很有代表性的倾向就是：Zito一直投得很好没掉分，或者其他我们不知道的原因。否则，根据我们的分析，这是一个错误的决定。

（未完待续）
